Use cases  
### Тестирование модуля внесения пожертвований https://vaccina.info/donate  
на веб-сайте АНО "Коллективный иммунитет" https://vaccina.info/

## I. Оформление регулярных пожертвований 

1) **Переход на страницу для пожертвования денег**

- Дано: открыта главная страница сайта https://vaccina.info/  
- Чтобы: Перейти к функционалу отправки пожертвования
- Как: 
```
- нажать на кнопку в правом верхнем углу "поддержать нашу работу"
```
- Успешное выполнение сценария
```
открылась страница https://vaccina.info/donate
```

2) **Оформить регулярное денежное пожертвование: выбор предложенных сумм**
- Дано: открыта страница https://vaccina.info/donate 
- Чтобы: оформить регулярное списание определенной суммы 
- Как:
```
- нажать "Оформить регулярное пожертвование"
- нажать на иконку суммы 
- нажать "пожертвовать"
```
- Успешное выполнение 
```
открылось модальное окно с суммой пожертвований и полями для ввода e-mail
```
3)  **Оформить регулярное денежное пожертвование - ввод своей суммы**

- Дано: открыта страница https://vaccina.info/donate 
- Чтобы: оформить регулярное списание определенной суммы с банковской карты
- Как:
```
- нажать "Оформить регулярное пожертвование"
- нажать на "ввести свою сумму"
- ввести сумму в появившемся поле
- нажать "пожертвовать"
```
- Успешное выполнение 
```
открылось модальное окно с суммой пожертвований и полями для ввода e-mail
```

**4) Появление кнопки "Корзина"**

  Дано: открыта страница https://vaccina.info/regulardonation 
 - Чтобы: появилась кнопка "корзина"
 - Как: 
 ```
 - выбрать сумму
 - нажать "пожертвовать"
 - открылось модальное окно с суммой пожертвований и полями для ввода e-mail 
 - нажать "крестик"
 - окно закрылось
 ```
- Успешное выполнение 
```
 - справа вверху появилась кнопка "корзина" 
 ```
 **4.1) Исчезновение кнопки "Корзина"**
  Дано: открыта страница https://vaccina.info/regulardonation , в корзине есть
   выбранная сумма для пожертвования
 - Чтобы: пропала кнопка "корзина"
 - Как: 
 ```
 - нажать на кнопку "корзина"
 -  удалить сумму пожертвования
 ```
- Успешное выполнение 
```
 - справа вверху исчезла кнопка "корзина" 
 ```

 **5. Подсказка о сумме выбранных пожертвований в "Корзине"**
 
 - Дано: : открыта страница https://vaccina.info/regulardonation, в корзине есть суммы пожертвования, еще не оплаченные, светится значок их количества
 Как:
 ```
 - навести курсор на иконку "корзины"
```
- Успешное выполнение 
```
- высветилать подсказка с общей суммой пожертвований в корзине
```

**6. Отправить пожертвование из "Корзины"**  
- Дано: открыта страница https://vaccina.info/regulardonation , в корзине есть суммы пожертвований
- Чтобы: отправить деньги в АНО 
- Как: 
```
- нажать иконку "корзина"
- нажать ввести email в поле
- отметить галочкой чек-бокс "согласия на обработку данных"
- нажать "оформить"
```
- Успешное выполнение 
```
открылось уведомление об успешно начатом процессе 
открылось модальное окно для ввода данных банковской карты
```


**7. Оплата с банковской карты** : открыта страница https://vaccina.info/regulardonation 
- Дано: нажата кнопка "оформить", открыто модальное окно для оплаты
- Чтобы: оплатить с банковской карты
- Как: 
```
-ввести в поля данные карты
-нажать "оплатить"
-ввести пин-код из смс
```
- Успешное выполнение 
```
- открылось уведомление о текушем процессе оплаты
- открылось уведомление об успешном совершении платежа
- на указанный имейл пришла квитанция
```
**8. Оплатить через Tinkoff pay**

- Дано:открыта страница https://vaccina.info/regulardonation, нажата кнопка "оформить", открыто модальное окно для оплаты
- Чтобы: оплатить через Tinkoff pay
- Как: 
```
- нажать на кнопку Tinkoff pay
```
- Успешное выполнение 
```
-открылось окно с QR кодом для сканирования
```
**9. Оплатить через Yandex pay**

- Дано: открыта страница https://vaccina.info/regulardonation, нажата кнопка "оформить", открыто модальное окно для оплаты
- Чтобы: оплатить через Yandex pay
- Как: 
```
- нажать на кнопку Yandex pay
```
- Успешное выполнение 
```
-открылось модальное окно для ввода смс-кода
```

**10. Отмена оформление платежа по "Оформить регулярное денежное пожертвование"**
- Дано: открыта страница https://vaccina.info/regulardonation, нажата кнопка "оформить", открыто модальное окно для ввода банковской карты
- Чтобы: отменить оформление платежа
- Как: 
```
- нажать на "крестик" в правом верхнем углу модального окна оплаты
```
- Успешное выполнение 
```
- возврат в модальное окно "корзины"
```

**11. Отмена "Оформить регулярное денежное пожертвование"**
- Дано: открыта страница https://vaccina.info/regulardonation, открыто модальное "корзины"
- Чтобы: отменить оформление платежа
- Как: 
```
- нажать на "крестик" в правом верхнем углу модального окна "корзины"
- ИЛИ
- нажать на любое место экрана
```
- Успешное выполнение 
```
- возврат на страницу "оформить регулярное пожертвование"
```

**12. Форма ввода суммы**
- Дано: открыта страница https://vaccina.info/regulardonation
- Чтобы: проверить допустимые суммы пожертвований
- Как: ввести в поле ввода данные классов эквивалентности
```
- ввести 0 => подсветка красным \ если в корзине есть сумма, она удвоится
- ввести -63 => 63
- ввести шестизначную сумму -> Unable to create order. Too big amount.- 111 222 333 руб.
- ввести дробные значения: 63,98 =>6398 , 63.5=>635
- оставить пустым
```

**11.1 BUG? - предложенные 5000 руб тоже не отправляются в качестве регулярного пожертвования, 4999 - отправляется.
11.2 BUG? 
ввести 0 => если в корзине есть сумма, она удвоится, а дб сообщение об ошибке**



## II. Оформление разовых пожертвований

**13) Переход на страницу для разового пожертвования денег**

- Дано: открыта главная страница сайта https://vaccina.info/  
- Чтобы: Перейти к функционалу отправки разового пожертвования
- Как: 
```
- нажать на кнопку в правом верхнем углу "поддержать нашу работу"
```
- Успешное выполнение сценария
```
открылась страница https://vaccina.info/donate
```
### ! NB через "Корзину" пока не доступно, кнопка на заглушке

**14) Оформление разовых пожертвований через QR-код**

- Дано: открыта страница https://vaccina.info/donate
- Чтобы: отправить разовое пожертвование по QR-коду
- Как:
```
- нажать на "+" на раскрывающемся меню "Перевод по QR коду"
- сканировать QR код в банковском приложении
```
- Успешное выполнение сценария
```
- в банковском приложении открылась форма отправки пожертвования на 200р
```
**15) Оформление разовых пожертвований по банковским рекзвизитам**

- Дано: открыта страница https://vaccina.info/donate
- Чтобы: отправить разовое пожертвование по банковским рекзвизитам
- Как:
```
- нажать на "+" на раскрывающемся меню "банковские рекзвизиты"
```
- Успешное выполнение сценария
```
- отобразились банковские рекзвизиты
```

## III. Модальное окно "Корзина"
**16) Добавление суммы пожертвования**
- Дано: открыта страница https://vaccina.info/regulardonation 
 - Чтобы: увеличить сумму пожертвования
 - Как: 
 ```
 - выбрать сумму
 - нажать "пожертвовать"
```
- Успешное выполнение 
```
- открылось модальное окно "Корзины" с выбранной суммой в нем.
```
**17)  Изменение суммы пожертвования**
- Дано: открыта страница https://vaccina.info/regulardonation, в корзину добавлены суммы для пожертвований
 - Чтобы: увеличить \ уменьшить сумму пожертвования
 - Как: 
 ```
 - в нем можно регулировать сумму +\- напротив цифр
 ```
 - Успешное выполнение 
```
- суммы увеличиваются \ уменьшаются кратно своему значению
```
**18) Удаление суммы пожертвования**
 - Дано: открыта страница https://vaccina.info/regulardonation, в корзину добавлены суммы для пожертвований
 - Чтобы: Удалить сумму пожертвования
 - Как: 
 ```
 - нажать "крестик" напротив суммы
 ```
  - Успешное выполнение 
```
- сумма удалилась из корзины
```
